<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.24.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="pt" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Tutorial: Rails7, Tailwind e Hotwire - CallMarx</title>
<meta name="description" content="Tutorial sobre Rails 7 com esbuild, tailwind e Hotwire(Turbo e Stimulus). Como desenvolver um aplicação estilo Kanban, com cards/tarefas e persistência simultânea via websockets.">


  <meta name="author" content="Eugenio Augusto Jimenes">
  
  <meta property="article:author" content="Eugenio Augusto Jimenes">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="pt_BR">
<meta property="og:site_name" content="CallMarx">
<meta property="og:title" content="Tutorial: Rails7, Tailwind e Hotwire">
<meta property="og:url" content="https://callmarx.github.io/blog/2021/12/07/tutorial-rails7-hotwire.html">


  <meta property="og:description" content="Tutorial sobre Rails 7 com esbuild, tailwind e Hotwire(Turbo e Stimulus). Como desenvolver um aplicação estilo Kanban, com cards/tarefas e persistência simultânea via websockets.">



  <meta property="og:image" content="https://callmarx.github.io/assets/posts/rails-7.webp">



  <meta name="twitter:site" content="@leminski_se">
  <meta name="twitter:title" content="Tutorial: Rails7, Tailwind e Hotwire">
  <meta name="twitter:description" content="Tutorial sobre Rails 7 com esbuild, tailwind e Hotwire(Turbo e Stimulus). Como desenvolver um aplicação estilo Kanban, com cards/tarefas e persistência simultânea via websockets.">
  <meta name="twitter:url" content="https://callmarx.github.io/blog/2021/12/07/tutorial-rails7-hotwire.html">

  
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="https://callmarx.github.io/assets/posts/rails-7.webp">
  

  



  <meta property="article:published_time" content="2021-12-07T17:48:12-03:00">






<link rel="canonical" href="https://callmarx.github.io/blog/2021/12/07/tutorial-rails7-hotwire.html">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": null,
      "url": "https://callmarx.github.io/"
    
  }
</script>







<!-- end _includes/seo.html -->



  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="CallMarx Feed">


<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css"></noscript>



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
          CallMarx
          
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/tags/">Posts por tags</a>
            </li><li class="masthead__menu-item">
              <a href="/about/">Sobre mim</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Buscar</span>
          <i class="fas fa-search"></i>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      



<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person">

  
    <div class="author__avatar">
      
        <img src="/assets/eu-e-nila.webp" alt="Eugenio Augusto Jimenes" itemprop="image">
      
    </div>
  

  <div class="author__content">
    
      <h3 class="author__name" itemprop="name">Eugenio Augusto Jimenes</h3>
    
    
      <div class="author__bio" itemprop="description">
        <p>Nerd, disléxico, viciado-hipster em café, desenvolvedor, linux fanboy e esquerdopata convicto - CallMarx, sacou?</p>

      </div>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Contatos</button>
    <ul class="author__urls social-icons">
      
        <li itemprop="homeLocation" itemscope itemtype="https://schema.org/Place">
          <i class="fas fa-fw fa-map-marker-alt" aria-hidden="true"></i> <span itemprop="name">São Paulo - SP</span>
        </li>
      

      
        
          
            <li><a href="mailto:eugeniojimenes@gmail" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-envelope-square" aria-hidden="true"></i><span class="label">Email</span></a></li>
          
        
          
            <li><a href="https://github.com/callmarx" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i><span class="label">GitHub</span></a></li>
          
        
          
            <li><a href="https://twitter.com/leminski_se" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span class="label">Twitter</span></a></li>
          
        
          
            <li><a href="https://www.linkedin.com/in/eugenio-augusto-jimenes/" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span class="label">LinkedIn</span></a></li>
          
        
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  </div>



  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Tutorial: Rails7, Tailwind e Hotwire">
    <meta itemprop="description" content="Depois de meses desenvolvendo em Typescript com NestJSpor demanda do meu atual trabalho, consegui um tempinho para meu tão amado Ruby on Rails. Melhorainda agora, como não trabalho oficialmente com Rails, posso me dar o luxo de me aventurar naversão 7, recém lançada em modo alfa, em meus projetos pessoais.">
    <meta itemprop="datePublished" content="2021-12-07T17:48:12-03:00">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">Tutorial: Rails7, Tailwind e Hotwire
</h1>
          

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2021-12-07T17:48:12-03:00">2021-12-07</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          8 minuto(s) de leitura
        
      </span>
    
  </p>


        </header>
      

      <section class="page__content" itemprop="text">
        
        <p><img src="/assets/posts/rails7-tailwind-hotwire.webp" alt="Rails 7 + Tailwind + Hotwire" class="align-center" /></p>

<p><br />
Depois de meses desenvolvendo em Typescript com <a href="https://docs.nestjs.com/" target="_blank">NestJS</a>
por demanda do meu atual trabalho, consegui um tempinho para meu tão amado Ruby on Rails. Melhor
ainda agora, como não trabalho oficialmente com Rails, posso me dar o luxo de me aventurar na
versão 7, recém lançada em modo alfa, em meus projetos pessoais.
<!-- excerpt-separator --></p>

<p class="notice--info"><strong>OBS:</strong> Pretendo escrever alguns artigos sobre minhas cabeçadas com NestJS e Typescript. Alguns
temas que pretendo abordar é <em>TypeOrm</em> com <em>migrations</em> e aplicação Multitenant usando PostgreSQL
RLS.</p>

<h2 id="objetivo-geral">Objetivo Geral</h2>
<p>Neste tutorial eu pretendo desenvolver (e aprender) utilizando Rails 7, esbuild, Tailwind e Hotwire
(Turbo e Stimulus), mas meu foco será mais sobre o pacote Hotwire e como ele pode nos ajudar.
Conforme avanço nos estudos e na implementação, vou complementando este tutorial. Por enquanto
temos:</p>
<ul>
  <li><a href="#etapa-zero---rails-7">Parte 0: Rails 7</a> → página atual</li>
  <li><a href="/blog/2021/12/09/tutorial-rails7-hotwire-parte-1.html" target="_blank">Parte 1: Tailwind</a></li>
  <li><a href="/blog/2021/12/19/tutorial-rails7-hotwire-parte-2.html" target="_blank">Parte 2: Hotwire Turbo</a></li>
  <li><del>Parte 3: Hotwire Stimulus</del> → em breve</li>
</ul>

<p>O pano de fundo é uma aplicação estilo Kanban, com um quadro em que podemos incluir, ver, editar e
excluir os cards/tarefas e isso ser persistido simultaneamente via <em>websockets</em> para todas as
sessões abertas da aplicação. Todo código esta disponível neste
<a href="https://github.com/callmarx/LearningHotwire" target="_blank">repositório</a>. Note que incluí
algumas <a href="https://github.com/callmarx/LearningHotwire/branches/all" target="_blank"><em>branches</em></a> que
representam as partes abordadas aqui.</p>

<h2 id="etapa-zero---rails-7">Etapa Zero - Rails 7</h2>
<p>Nesta parte inicial, explico como configurar o Rails 7, com suas novas opções, e como “dockerizar”
os bancos de dados PostgreSQL e Redis. O resultado final desta etapa é o disponível na <em>branch</em>
<a href="https://github.com/callmarx/LearningHotwire/tree/blog-part-0" target="_blank">blog-part-0</a>.</p>

<h3 id="criando-um-novo-projeto-com-rails-7">Criando um novo projeto com Rails 7</h3>
<p>Utilizei as seguintes versões para este projeto:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>ruby <span class="nt">-v</span>
<span class="c"># ruby 3.0.3p157 (2021-11-24 revision 3fb7d2cadc) [x86_64-linux]</span>

<span class="nv">$ </span>rails <span class="nt">-v</span>
<span class="c"># Rails 7.0.0.rc1</span>

<span class="nv">$ </span>yarn <span class="nt">-v</span>
<span class="c"># 1.22.17</span>
</code></pre></div></div>

<p>Criei um novo projeto com o seguinte comando:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>rails new LearningHotwire <span class="se">\</span>
              <span class="nt">-d</span><span class="o">=</span>postgresql <span class="se">\</span>
              <span class="nt">--skip-test</span> <span class="se">\</span>
              <span class="nt">-j</span> esbuild <span class="se">\</span>
              <span class="nt">--css</span> tailwind
</code></pre></div></div>

<p>Nada de novo nas duas primeiras <em>flags</em>: será uma aplicação com banco de dados PostgreSQL
(<code class="language-plaintext highlighter-rouge">-d=postgresql</code>) e sem o pacote padrão de testes com Minitest (<code class="language-plaintext highlighter-rouge">--skip-test</code>).</p>

<p>Nas duas últimas temos algumas novidades: escolho o <a href="https://esbuild.github.io/" target="_blank"><em>esbuild</em></a>
como <em>JavaScript bundler</em> (<code class="language-plaintext highlighter-rouge">-j esbuild</code>) e o <a href="https://tailwindcss.com" target="_blank"><em>tailwind</em></a>
como <em>CSS processor/framework</em> (<code class="language-plaintext highlighter-rouge">--css tailwind</code>). Estas novas flags correspondem as gemas
<a href="https://github.com/rails/jsbundling-rails" target="_blank"><em>jsbundling-rails</em></a> e
<a href="https://github.com/rails/cssbundling-rails" target="_blank"><em>cssbundling-rails</em></a>, incluídas
automaticamente no Gemfile.</p>

<h3 id="algumas-inclusões">Algumas inclusões</h3>
<p>No <a href="https://github.com/callmarx/LearningHotwire/blob/blog-part-0/Gemfile" target="_blank">Gemfile</a>
eu removi os comentários e inclui algumas gemas ficando assim:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Gemfile</span>
<span class="n">source</span> <span class="s2">"https://rubygems.org"</span>
<span class="n">git_source</span><span class="p">(</span><span class="ss">:github</span><span class="p">)</span> <span class="p">{</span> <span class="o">|</span><span class="n">repo</span><span class="o">|</span> <span class="s2">"https://github.com/</span><span class="si">#{</span><span class="n">repo</span><span class="si">}</span><span class="s2">.git"</span> <span class="p">}</span>

<span class="n">ruby</span> <span class="s2">"3.0.3"</span>
<span class="n">gem</span> <span class="s2">"rails"</span><span class="p">,</span> <span class="s2">"~&gt; 7.0.0.rc1"</span>

<span class="n">gem</span> <span class="s2">"cssbundling-rails"</span><span class="p">,</span> <span class="s2">"&gt;= 0.1.0"</span>
<span class="n">gem</span> <span class="s2">"jbuilder"</span><span class="p">,</span> <span class="s2">"~&gt; 2.7"</span>
<span class="n">gem</span> <span class="s2">"jsbundling-rails"</span><span class="p">,</span> <span class="s2">"~&gt; 0.1.0"</span>
<span class="n">gem</span> <span class="s2">"pg"</span><span class="p">,</span> <span class="s2">"~&gt; 1.1"</span>
<span class="n">gem</span> <span class="s2">"puma"</span><span class="p">,</span> <span class="s2">"~&gt; 5.0"</span>
<span class="n">gem</span> <span class="s2">"redis"</span><span class="p">,</span> <span class="s2">"~&gt; 4.0"</span>
<span class="n">gem</span> <span class="s2">"sprockets-rails"</span><span class="p">,</span> <span class="s2">"&gt;= 3.4.1"</span>
<span class="n">gem</span> <span class="s2">"stimulus-rails"</span><span class="p">,</span> <span class="s2">"&gt;= 0.7.3"</span>
<span class="n">gem</span> <span class="s2">"turbo-rails"</span><span class="p">,</span> <span class="s2">"&gt;= 0.9.0"</span>

<span class="n">gem</span> <span class="s2">"bootsnap"</span><span class="p">,</span> <span class="s2">"&gt;= 1.4.4"</span><span class="p">,</span> <span class="ss">require: </span><span class="kp">false</span>

<span class="n">group</span> <span class="ss">:development</span><span class="p">,</span> <span class="ss">:test</span> <span class="k">do</span>
  <span class="n">gem</span> <span class="s2">"byebug"</span>
  <span class="n">gem</span> <span class="s2">"rspec-rails"</span><span class="p">,</span> <span class="s2">"~&gt; 4.0.0"</span>
<span class="k">end</span>

<span class="n">group</span> <span class="ss">:development</span> <span class="k">do</span>
  <span class="n">gem</span> <span class="s2">"web-console"</span><span class="p">,</span> <span class="s2">"&gt;= 4.1.0"</span>

  <span class="n">gem</span> <span class="s2">"foreman"</span><span class="p">,</span> <span class="ss">require: </span><span class="kp">false</span>
  <span class="n">gem</span> <span class="s2">"rubocop"</span><span class="p">,</span> <span class="ss">require: </span><span class="kp">false</span>
  <span class="n">gem</span> <span class="s2">"rubocop-packaging"</span><span class="p">,</span> <span class="ss">require: </span><span class="kp">false</span>
  <span class="n">gem</span> <span class="s2">"rubocop-performance"</span><span class="p">,</span> <span class="ss">require: </span><span class="kp">false</span>
  <span class="n">gem</span> <span class="s2">"rubocop-rails"</span><span class="p">,</span> <span class="ss">require: </span><span class="kp">false</span>
  <span class="n">gem</span> <span class="s2">"rubocop-rspec"</span><span class="p">,</span> <span class="ss">require: </span><span class="kp">false</span>
  <span class="n">gem</span> <span class="s2">"rubycritic"</span><span class="p">,</span> <span class="ss">require: </span><span class="kp">false</span>
<span class="k">end</span>
</code></pre></div></div>

<p>O Redis vem comentado automaticamente, mas vamos utilizá-lo mais a frente para o <em>ActionCable</em> com
o <a href="https://github.com/hotwired/turbo-rails" target="_blank">turbo-rails</a>.</p>

<p>Nos blocos de <code class="language-plaintext highlighter-rouge">:development</code> e <code class="language-plaintext highlighter-rouge">:test</code> inclui algumas gemas para teste e lint. Não sei ainda se vou
ou não desenvolver testes, mas na dúvida instalei o RSpec com o comando padrão
<code class="language-plaintext highlighter-rouge">rails generate rspec:install</code> e inclui arquivos de configuração como
<a href="https://github.com/callmarx/LearningHotwire/blob/blog-part-0/.reek.yml" target="_blank">.reek.yml</a>,
<a href="https://github.com/callmarx/LearningHotwire/blob/blog-part-0/.rubocop.yml" target="_blank">.rubocop.yml</a>,
<a href="https://github.com/callmarx/LearningHotwire/blob/blog-part-0/.rubycritic.yml" target="_blank">.rubycritic.yml</a>,
entre outros.</p>

<h3 id="docker">Docker</h3>
<p>Para facilitar o desenvolvimento eu “dockerizei” o PostgreSQL e Redis com o seguinte
<a href="https://github.com/callmarx/LearningHotwire/blob/blog-part-0/docker-compose.yml" target="_blank">docker-compose.yml</a>:</p>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># docker-compose.yml</span>
<span class="na">version</span><span class="pi">:</span> <span class="s1">'</span><span class="s">3.4'</span>

<span class="na">services</span><span class="pi">:</span>
  <span class="na">db</span><span class="pi">:</span>
    <span class="na">image</span><span class="pi">:</span> <span class="s">postgres:14-alpine</span>
    <span class="na">container_name</span><span class="pi">:</span> <span class="s">learhot-db-ctr</span>
    <span class="na">mem_limit</span><span class="pi">:</span> <span class="s">256m</span>
    <span class="na">command</span><span class="pi">:</span> <span class="s">-c fsync=off --client-min-messages=warning</span>
    <span class="na">volumes</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">db:/var/lib/postgresql/data</span>
    <span class="na">ports</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s2">"</span><span class="s">127.0.0.1:5432:5432"</span>
    <span class="na">environment</span><span class="pi">:</span>
      <span class="na">POSTGRES_PASSWORD</span><span class="pi">:</span> <span class="s">postgres</span>
      <span class="na">POSTGRES_INITDB_ARGS</span><span class="pi">:</span> <span class="s1">'</span><span class="s">--encoding=UTF-8</span><span class="nv"> </span><span class="s">--lc-collate=C</span><span class="nv"> </span><span class="s">--lc-ctype=C'</span>
    <span class="na">restart</span><span class="pi">:</span> <span class="s">on-failure</span>
    <span class="na">logging</span><span class="pi">:</span>
      <span class="na">driver</span><span class="pi">:</span> <span class="s">none</span>

  <span class="na">redis</span><span class="pi">:</span>
    <span class="na">image</span><span class="pi">:</span> <span class="s">redis:6-alpine</span>
    <span class="na">container_name</span><span class="pi">:</span> <span class="s">learhot-redis-ctr</span>
    <span class="na">mem_limit</span><span class="pi">:</span> <span class="s">256m</span>
    <span class="na">volumes</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">redis-data:/var/lib/redis/data</span>
    <span class="na">ports</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s2">"</span><span class="s">127.0.0.1:6379:6379"</span>
    <span class="na">restart</span><span class="pi">:</span> <span class="s">on-failure</span>
    <span class="na">logging</span><span class="pi">:</span>
      <span class="na">driver</span><span class="pi">:</span> <span class="s">none</span>

<span class="na">volumes</span><span class="pi">:</span>
  <span class="na">db</span><span class="pi">:</span>
  <span class="na">redis-data</span><span class="pi">:</span>
</code></pre></div></div>

<p>Para se comunicar com esses bancos alterei o
<a href="https://github.com/callmarx/LearningHotwire/blob/blog-part-0/config/database.yml" target="_blank">config/database.yml</a>
e o
<a href="https://github.com/callmarx/LearningHotwire/blob/blog-part-0/config/cable.yml" target="_blank">config/cable.yml</a>:</p>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># config/database.yml</span>
<span class="na">default</span><span class="pi">:</span> <span class="nl">&amp;default</span>
  <span class="na">adapter</span><span class="pi">:</span> <span class="s">postgresql</span>
  <span class="na">encoding</span><span class="pi">:</span> <span class="s">UTF8</span>
  <span class="na">host</span><span class="pi">:</span> <span class="s">localhost</span>
  <span class="na">user</span><span class="pi">:</span> <span class="s">postgres</span>
  <span class="na">password</span><span class="pi">:</span> <span class="s">postgres</span>
  <span class="na">pool</span><span class="pi">:</span> <span class="s">&lt;%= ENV.fetch("RAILS_MAX_THREADS") { 5 } %&gt;</span>

<span class="na">development</span><span class="pi">:</span>
  <span class="na">&lt;&lt;</span><span class="pi">:</span> <span class="nv">*default</span>
  <span class="na">database</span><span class="pi">:</span> <span class="s">LearningHotwire_development</span>
  <span class="na">port</span><span class="pi">:</span> <span class="m">5432</span>

<span class="na">test</span><span class="pi">:</span>
  <span class="na">&lt;&lt;</span><span class="pi">:</span> <span class="nv">*default</span>
  <span class="na">database</span><span class="pi">:</span> <span class="s">LearningHotwire_development</span>
  <span class="na">port</span><span class="pi">:</span> <span class="m">5432</span>

<span class="c1"># config/cable.yml</span>
<span class="na">development</span><span class="pi">:</span>
  <span class="na">adapter</span><span class="pi">:</span> <span class="s">redis</span>
  <span class="na">url</span><span class="pi">:</span> <span class="s">&lt;%= "#{ENV.fetch("REDIS_URL") { "redis://localhost:6379" }}/1" %&gt;</span>
  <span class="na">channel_prefix</span><span class="pi">:</span> <span class="s">LearningHotwire_development</span>

<span class="na">test</span><span class="pi">:</span>
  <span class="na">adapter</span><span class="pi">:</span> <span class="s">async</span>

<span class="na">production</span><span class="pi">:</span>
  <span class="na">adapter</span><span class="pi">:</span> <span class="s">redis</span>
  <span class="na">url</span><span class="pi">:</span> <span class="s">&lt;%= "#{ENV.fetch("REDIS_URL") { "redis://localhost:6379" }}/1" %&gt;</span>
  <span class="na">channel_prefix</span><span class="pi">:</span> <span class="s">LearningHotwire_production</span>
</code></pre></div></div>

<h3 id="procfile">Procfile</h3>
<p>Com as novas inclusões de <em>JavaScript bundler</em> e <em>CSS processor/framework</em>, o Rails 7 utiliza para
subir todo o ambiente de desenvolvimento a gema
<a href="https://github.com/ddollar/foreman" target="_blank"><em>foreman</em></a> que chama os processos listados
no arquivo
<a href="https://github.com/callmarx/LearningHotwire/blob/blog-part-0/Procfile.dev" target="_blank">Procfile.dev</a>.
Isso tudo porque não mais apenas o servidor do Rails precisa ser executado em modo <em>watch</em>, ou
seja, em modo de reload automático (em inglês chamamos de <em>watch process</em>), mas agora também essas
duas novas inclusões.</p>

<p>Como incluímos o PostgreSQL e Redis no docker, podemos incluir também a chamada <code class="language-plaintext highlighter-rouge">docker-compose up</code>
no
<a href="https://github.com/callmarx/LearningHotwire/blob/blog-part-0/Procfile.dev" target="_blank">Procfile.dev</a>,
ficando assim:</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker: docker-compose up
web: bin/rails server -p 3000
js: yarn build --watch
css: yarn build:css --watch
</code></pre></div></div>

<h3 id="yay-youre-on-rails">Yay! You’re on Rails!</h3>
<p>É isso. Basta agora executar o script disponível <code class="language-plaintext highlighter-rouge">bin/dev</code> que chama o <em>foreman</em> para o Procfile
que atualizamos.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># esse script já vem com permissão de execução</span>
<span class="nv">$ </span>bin/dev
</code></pre></div></div>

<p>Você deve obter algo assim como saída no seu terminal:
<img src="/assets/posts/bin-dev.webp" alt="bin/dev" class="align-center" /></p>

<p>Não esqueça de criar o banco de dados. Você pode fazer isso agora na página web:
<img src="/assets/posts/create-db-web.webp" alt="create-db-web" class="align-center" /></p>

<p>Ou, em um outro terminal já que precisamos do docker em execução, utilize:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>rails db:create
</code></pre></div></div>

<p>E acesse <a href="http://localhost:3000/">http://localhost:3000/</a> e veja a clássica telinha do Rails.
<img src="/assets/posts/welcome-rails.webp" alt="welcome-rails" class="align-center" /></p>

<p>Por agora, é isso.</p>
<div class="tenor-gif-embed" data-postid="17519616" data-share-method="host" data-aspect-ratio="1" data-width="100%">
  <a href="https://tenor.com/view/cat-leaving-leave-oops-bye-gif-17519616"></a>
</div>
<script type="text/javascript" async="" src="https://tenor.com/embed.js">
</script>

        
      </section>

      <footer class="page__meta">
        
        
  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      <a href="/tags/#hotwire" class="page__taxonomy-item" rel="tag">Hotwire</a><span class="sep">, </span>
    
      <a href="/tags/#rails" class="page__taxonomy-item" rel="tag">Rails</a><span class="sep">, </span>
    
      <a href="/tags/#ruby" class="page__taxonomy-item" rel="tag">Ruby</a><span class="sep">, </span>
    
      <a href="/tags/#tailwind" class="page__taxonomy-item" rel="tag">Tailwind</a><span class="sep">, </span>
    
      <a href="/tags/#tutorial" class="page__taxonomy-item" rel="tag">Tutorial</a>
    
    </span>
  </p>




  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categorias: </strong>
    <span itemprop="keywords">
    
      <a href="/categories/#blog" class="page__taxonomy-item" rel="tag">blog</a>
    
    </span>
  </p>


        

  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Atualizado em:</strong> <time datetime="2021-12-07T17:48:12-03:00">2021-12-07</time></p>


      </footer>

      <section class="page__share">
  
    <h4 class="page__share-title">Compartilhe</h4>
  

  <a href="https://twitter.com/intent/tweet?via=leminski_se&text=Tutorial%3A+Rails7%2C+Tailwind+e+Hotwire%20https%3A%2F%2Fcallmarx.github.io%2Fblog%2F2021%2F12%2F07%2Ftutorial-rails7-hotwire.html" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Compartilhe Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fcallmarx.github.io%2Fblog%2F2021%2F12%2F07%2Ftutorial-rails7-hotwire.html" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Compartilhe Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=https%3A%2F%2Fcallmarx.github.io%2Fblog%2F2021%2F12%2F07%2Ftutorial-rails7-hotwire.html" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Compartilhe LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      
  <nav class="pagination">
    
      <a href="/blog/2021/09/03/dockers-e-portainer.html" class="pagination--pager" title="Hoje eu aprendi: Gerenciar dockers locais com Portainer CE
">Anterior</a>
    
    
      <a href="/blog/2021/12/09/tutorial-rails7-hotwire-parte-1.html" class="pagination--pager" title="Tutorial: Rails7, Tailwind e Hotwire - Parte 1
">Próxima</a>
    
  </nav>

    </div>

    
  </article>

  
  
    <div class="page__related">
      <h4 class="page__related-title">Talvez você também goste</h4>
      <div class="grid__wrapper">
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/blog/2022/06/29/tutorial-rails7-hotwire-parte-3.html" rel="permalink">Tutorial: Rails7, Tailwind e Hotwire - Parte 3
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2022-06-29T21:34:03-03:00">2022-06-29</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          18 minuto(s) de leitura
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">

Na parte anterior
deste tutorial eu expliquei como utilizar a renderização parcial de html com turbo_stream do
Hotwire Turbo, o que nos permitiu mostrar os cards
recém inseridos ou excluídos do nosso humilde protótipo de Kanban. Agora ...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/blog/2022/06/08/dotfiles.html" rel="permalink">Hoje eu aprendi: Vale a pena configurar seus dotfiles
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2022-06-08T16:58:19-03:00">2022-06-08</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          5 minuto(s) de leitura
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">

Depois de mais de 3 anos usando Vim como IDE (Integrated Development Environment), migrando no
caminho para o Neovim com o shell zsh, o gerenciador
Oh My Zsh e o tema
Powerlevel10k, percebi como eu
dependia dessas configurações e como ...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/blog/2021/12/19/tutorial-rails7-hotwire-parte-2.html" rel="permalink">Tutorial: Rails7, Tailwind e Hotwire - Parte 2
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2021-12-19T14:42:03-03:00">2021-12-19</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          14 minuto(s) de leitura
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">

Na parte anterior
deste tutorial eu expliquei como customizar e utilizar o Tailwind sem uma linha sequer de CSS e
JavaScript. Agora vou abordar um pouco sobre o pacote
Hotwire Turbo.
</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/blog/2021/12/09/tutorial-rails7-hotwire-parte-1.html" rel="permalink">Tutorial: Rails7, Tailwind e Hotwire - Parte 1
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2021-12-09T11:12:54-03:00">2021-12-09</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          13 minuto(s) de leitura
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">

Na parte anterior deste
tutorial, expliquei como configurar o Rails 7, com suas novas opções e como “dockerizei” os bancos
de dados PostgreSQL e Redis. Agora vou abordar um pouco sobre Tailwind.
</p>
  </article>
</div>

        
      </div>
    </div>
  
  
</div>

    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Pesquisar..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    
      
        
          <li><a href="https://github.com/callmarx" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
        
          <li><a href="https://www.linkedin.com/in/eugenio-augusto-jimenes/" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i> LinkedIn</a></li>
        
      
    

    
      <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2022 CallMarx. Desenvolvido com o <a href=/code-of-conduct/><b>Código de Conduta</b></a> para comunidade de código aberto, sob a licença <a href=/mit-license/><b>MIT</b></a>, framework <a href="https://jekyllrb.com" rel="nofollow"><b>Jekyll</b></a> e tema <a href="https://github.com/mmistakes/minimal-mistakes" rel="nofollow"><b>Minimal Mistakes</b></a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>







  </body>
</html>
